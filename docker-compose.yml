services:
  mac398fe:
    image: tom4dock/mac398fe:2.1
    build:
      context: .
      dockerfile: Dockerfile.dev
    ports:
      - '30002:5173'
    volumes:
      - /usr/mac398-app/node_modules
      - ./:/usr/mac398-app
    networks:
      - mac398net

  tests:
    build:
      context: .
      dockerfile: Dockerfile.dev
    volumes:
      - /usr/mac398-app/node_modules
      - ./:/usr/mac398-app
    command: npm run test:unit
    networks:
      - mac398net

networks:
  mac398net:
    driver: bridge
